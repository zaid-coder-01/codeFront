{"ast":null,"code":"import _defineProperty from \"/Users/zaidshah/CodeSolution/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/zaidshah/CodeSolution/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/zaidshah/CodeSolution/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/zaidshah/CodeSolution/client/src/Component/Login.jsx\";\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport \"../App.css\";\nimport { useNavigate } from \"react-router-dom\";\n\nvar Login = function Login() {\n  useEffect(function () {// const md=sessionStorage.getItem('theme')\n    // document.body.className=md\n  }, []);\n  var history = useNavigate();\n\n  var _useState = useState({\n    uname: \"\",\n    pass: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      User = _useState2[0],\n      setUser = _useState2[1];\n\n  var getData = function getData(ev) {\n    var name = ev.target.name;\n    var value = ev.target.value;\n    setUser(_objectSpread({}, User, _defineProperty({}, name, value)));\n  };\n\n  var sub = function sub(ev) {\n    ev.preventDefault();\n    var form = {\n      uname: User.uname,\n      pass: User.pass\n    };\n    axios.post(\"\".concat(process.env.REACT_APP_BACKEND, \"/login\"), form).then(function (res) {\n      if (res.data === \"\") {\n        alert(\"enter valid data\");\n      } else {\n        if (res.data.mode === 'admin') {\n          history('/admin');\n        } else {\n          var users = {\n            uname: res.data.uname,\n            name: res.data.name,\n            email: res.data.email\n          };\n          sessionStorage.setItem(\"users\", JSON.stringify(users));\n          history('/');\n        }\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mt-5 child\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-7\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    style: {\n      'box-shadow': '0 2px 4px 0 rgba(0, 0, 0, 0.2) inset, 0 4px 8px 0 rgba(0, 0, 0, 0.19)'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, \"LOGIN\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 26\n    }\n  }, \"User Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"uname\",\n    onChange: getData,\n    value: User.uname,\n    className: \"form-control shadow-lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 26\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"mt-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 26\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"pass\",\n    onChange: getData,\n    value: User.pass,\n    className: \" shadow-lg form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 26\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 26\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/newuser\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 30\n    }\n  }, \"Create New\")), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: sub,\n    className: \"form-control btn btn-success mt-4 shadow-lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 26\n    }\n  }, \"LOGIN\")))))))));\n};\n\nexport default Login;","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","Login","history","uname","pass","User","setUser","getData","ev","name","target","value","sub","preventDefault","form","post","process","env","REACT_APP_BACKEND","then","res","data","alert","mode","users","email","sessionStorage","setItem","JSON","stringify","catch","err","console","log"],"sources":["/Users/zaidshah/CodeSolution/client/src/Component/Login.jsx"],"sourcesContent":["import React,{useEffect, useState} from 'react'\nimport axios from 'axios';\nimport \"../App.css\"\nimport {useNavigate} from \"react-router-dom\"\n\nconst Login = () => {\n  useEffect(()=>{\n    // const md=sessionStorage.getItem('theme')\n    // document.body.className=md\n  },[])\n  const history=useNavigate();\n  const [User, setUser]=useState({\n    uname:\"\",pass:\"\"\n});\nconst getData=(ev)=>{\n \n  let name=ev.target.name;\n  let value=ev.target.value;\n\n  setUser({...User,[name]:value})\n}\nconst sub=(ev)=>{\n  ev.preventDefault();\n  const form={\n    uname:User.uname,pass:User.pass\n  }\n \n  axios.post(`${process.env.REACT_APP_BACKEND}/login`,form).then((res)=>{\n  \n  if(res.data===\"\")\n  {\n    alert(\"enter valid data\")\n      \n  }\n  else{\n  if(res.data.mode==='admin')\n  {\n    history('/admin');\n  }\n  else{\n    const users={uname:res.data.uname,name:res.data.name,email:res.data.email}\n    sessionStorage.setItem(\"users\",JSON.stringify(users));\n      history('/');\n  }\n  }\n  }).catch((err)=>{\n    console.log(err);\n  })\n}\n  return (\n    <>\n    <div className='login'>\n      <div className='container mt-5 child'>\n        <div className='row'>\n            <div className='col-md-7'>\n                <div className='card' style={{'box-shadow': '0 2px 4px 0 rgba(0, 0, 0, 0.2) inset, 0 4px 8px 0 rgba(0, 0, 0, 0.19)'}}>\n                    <div className='text-center mt-3'>\n                    <h3>LOGIN</h3>\n                    </div>\n                    <div className='card-body'>\n                     <form>\n                         <label>User Name</label>\n                         <input type=\"text\" name=\"uname\" onChange={getData} value={User.uname} className='form-control shadow-lg'></input>\n                         <label className='mt-2'>Password</label>\n                         <input type=\"password\" name=\"pass\" onChange={getData} value={User.pass} className=' shadow-lg form-control'></input>\n                         <div className='text-center mt-3'>\n                             <a href='/newuser'>Create New</a>\n                         </div>\n                         <button onClick={sub} className='form-control btn btn-success mt-4 shadow-lg'>LOGIN</button>\n                     </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n      </div>\n      </div>\n    </>\n  )\n}\n\nexport default Login\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}