{"ast":null,"code":"import _defineProperty from \"/Users/zaidshah/CodeSolution/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/zaidshah/CodeSolution/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/zaidshah/CodeSolution/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/zaidshah/CodeSolution/client/src/Component/Login.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"../App.css\";\nimport { useNavigate } from \"react-router-dom\";\nvar Login = function Login() {\n  useEffect(function () {\n    // const md=sessionStorage.getItem('theme')\n    // document.body.className=md\n  }, []);\n  var history = useNavigate();\n  var _useState = useState({\n      uname: \"\",\n      pass: \"\"\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    User = _useState2[0],\n    setUser = _useState2[1];\n  var getData = function getData(ev) {\n    var name = ev.target.name;\n    var value = ev.target.value;\n    setUser(_objectSpread({}, User, _defineProperty({}, name, value)));\n  };\n  var sub = function sub(ev) {\n    ev.preventDefault();\n    var form = {\n      uname: User.uname,\n      pass: User.pass\n    };\n    axios.post(\"\".concat(process.env.REACT_APP_BACKEND, \"/login\"), form).then(function (res) {\n      if (res.data === \"\") {\n        alert(\"enter valid data\");\n      } else {\n        if (res.data.mode === \"admin\") {\n          sessionStorage.setItem(\"users\", JSON.stringify(res.data));\n          history(\"/admin\");\n          history(0);\n        } else {\n          var users = {\n            uname: res.data.uname,\n            name: res.data.name,\n            email: res.data.email,\n            pass: res.data.pass\n          };\n          sessionStorage.setItem(\"users\", JSON.stringify(users));\n          history(\"/\");\n        }\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mt-5 child\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-7\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    style: {\n      \"box-shadow\": \"0 2px 4px 0 rgba(0, 0, 0, 0.2) inset, 0 4px 8px 0 rgba(0, 0, 0, 0.19)\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 19\n    }\n  }, \"LOGIN\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, \"User Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"uname\",\n    onChange: getData,\n    value: User.uname,\n    className: \"form-control shadow-lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"mt-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"pass\",\n    onChange: getData,\n    value: User.pass,\n    className: \" shadow-lg form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/newuser\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 23\n    }\n  }, \"Create New\")), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: sub,\n    className: \"form-control btn btn-success mt-4 shadow-lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, \"LOGIN\")))))))));\n};\nexport default Login;","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","Login","history","_useState","uname","pass","_useState2","_slicedToArray","User","setUser","getData","ev","name","target","value","_objectSpread","_defineProperty","sub","preventDefault","form","post","concat","process","env","REACT_APP_BACKEND","then","res","data","alert","mode","sessionStorage","setItem","JSON","stringify","users","email","catch","err","console","log","createElement","Fragment","className","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","type","onChange","href","onClick"],"sources":["/Users/zaidshah/CodeSolution/client/src/Component/Login.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"../App.css\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Login = () => {\n  useEffect(() => {\n    // const md=sessionStorage.getItem('theme')\n    // document.body.className=md\n  }, []);\n  const history = useNavigate();\n  const [User, setUser] = useState({\n    uname: \"\",\n    pass: \"\",\n  });\n  const getData = (ev) => {\n    let name = ev.target.name;\n    let value = ev.target.value;\n\n    setUser({ ...User, [name]: value });\n  };\n  const sub = (ev) => {\n    ev.preventDefault();\n    const form = {\n      uname: User.uname,\n      pass: User.pass,\n    };\n\n    axios\n      .post(`${process.env.REACT_APP_BACKEND}/login`, form)\n      .then((res) => {\n        if (res.data === \"\") {\n          alert(\"enter valid data\");\n        } else {\n          if (res.data.mode === \"admin\") {\n            sessionStorage.setItem(\"users\", JSON.stringify(res.data));\n            history(\"/admin\");\n            history(0)\n          } else {\n            const users = {\n              uname: res.data.uname,\n              name: res.data.name,\n              email: res.data.email,\n              pass:res.data.pass\n            };\n            sessionStorage.setItem(\"users\", JSON.stringify(users));\n            history(\"/\");\n          }\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  return (\n    <>\n      <div className=\"login\">\n        <div className=\"container mt-5 child\">\n          <div className=\"row\">\n            <div className=\"col-md-7\">\n              <div\n                className=\"card\"\n                style={{\n                  \"box-shadow\":\n                    \"0 2px 4px 0 rgba(0, 0, 0, 0.2) inset, 0 4px 8px 0 rgba(0, 0, 0, 0.19)\",\n                }}\n              >\n                <div className=\"text-center mt-3\">\n                  <h3>LOGIN</h3>\n                </div>\n                <div className=\"card-body\">\n                  <form>\n                    <label>User Name</label>\n                    <input\n                      type=\"text\"\n                      name=\"uname\"\n                      onChange={getData}\n                      value={User.uname}\n                      className=\"form-control shadow-lg\"\n                    ></input>\n                    <label className=\"mt-2\">Password</label>\n                    <input\n                      type=\"password\"\n                      name=\"pass\"\n                      onChange={getData}\n                      value={User.pass}\n                      className=\" shadow-lg form-control\"\n                    ></input>\n                    <div className=\"text-center mt-3\">\n                      <a href=\"/newuser\">Create New</a>\n                    </div>\n                    <button\n                      onClick={sub}\n                      className=\"form-control btn btn-success mt-4 shadow-lg\"\n                    >\n                      LOGIN\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}